<!-- k = 4 -->
<!-- N = 10 -->
<!-- I = 22 -->
<!-- Fi = 4 -->
<!-- frac_level = 0 -->
<!-- ff = 1 -->
<architecture>
  <models>
    <model name="mux64">
         <input_ports>
             <port name="in0"/>
             <port name="in1"/>
             <port name="sel"/>
          </input_ports>
          <output_ports>
             <port name="out"/>
         </output_ports> 
    </model>

    <model name="io_wire">
         <input_ports>
             <port name="to_uva"/>
         </input_ports> 

         <output_ports>
             <port name="from_uva"/>
         </output_ports> 
    </model>

     <model name="dram_int">
        <input_ports>
            <port name="clk" is_clock="1"/>
            <port name="rst"/>
            <port name="prefetch_en"/>
            <port name="writeback_en"/>
            <port name="parallel_mode"/>
            <port name="rdmem_en"/>
            <port name="wrmem_en"/>
            <port name="DI"/>
            <port name="ADDR"/>
            <port name="PORT_ADDR"/>
            <port name="BUFFER_ADDR"/>
            <port name="log_offset_point"/>
          </input_ports>
          <output_ports>
            <port name="DO"/>
        </output_ports>
    </model>

	<model name="fpu_mma">
         <input_ports>
	         <port name ="clk" is_clock="1"/>
             <port name="opa"/>
             <port name="opb"/>
             <port name="opc"/>
             <port name="opd"/>
             </input_ports>
             <output_ports> 
             <port name="out"/>
             <port name="out2"/>
             <port name="control"/>
         </output_ports> 
    </model>

	<model name="fpu_ma">
         <input_ports>
	         <port name ="clk" is_clock="1"/>
             <port name="opa"/>
             <port name="opb"/>
             <port name="opc"/>
             </input_ports>
             <output_ports> 
             <port name="out"/>
             <port name="control"/>
         </output_ports> 
    </model>

	<model name="fpu_mul">
         <input_ports>
	         <port name ="clk" is_clock="1"/>
             <port name="opa"/>
             <port name="opb"/>
             </input_ports>
             <output_ports> 
             <port name="out"/>
             <port name="control"/>
         </output_ports> 
    </model>

	<model name="fpu_add">
         <input_ports>
	         <port name ="clk" is_clock="1"/>
             <port name="opa"/>
             <port name="opb"/>
             </input_ports>
             <output_ports> 
             <port name="out"/>
             <port name="control"/>
         </output_ports> 
    </model>

    <model name="single_port_ram">
    	<input_ports>
    		<port name="we"/>
    		<!-- control -->
    		<port name="addr"/>
    		<!-- address lines -->
    		<port name="data"/>
    		<!-- data lines can be broken down into smaller bit widths minimum size 1 -->
    		<port name="clk" is_clock="1"/>
    		<!-- memories are often clocked -->
    	</input_ports>
    	<output_ports>
    		<port name="out"/>
    		<!-- output can be broken down into smaller bit widths minimum size 1 -->
    	</output_ports>
    </model>

    <model name="dual_port_ram">
    	<input_ports>
    		<port name="we1"/>
    		<!-- write enable -->
    		<port name="we2"/>
    		<!-- write enable -->
    		<port name="addr1"/>
    		<!-- address lines -->
    		<port name="addr2"/>
    		<!-- address lines -->
    		<port name="data1"/>
    		<!-- data lines can be broken down into smaller bit widths minimum size 1 -->
    		<port name="data2"/>
    		<!-- data lines can be broken down into smaller bit widths minimum size 1 -->
    		<port name="clk" is_clock="1"/>
    		<!-- memories are often clocked -->
    	</input_ports>
    	<output_ports>
    		<port name="out1"/>
    		<!-- output can be broken down into smaller bit widths minimum size 1 -->
    		<port name="out2"/>
    		<!-- output can be broken down into smaller bit widths minimum size 1 -->
    	</output_ports>
    </model>
  </models>
  
<layout width="52" height="52"/> 
  <device>
    <sizing R_minW_nmos="2800.310059" R_minW_pmos="7077.009766" ipin_mux_trans_size="1.247480"/>
    <timing C_ipin_cblock="1.47e-15" T_ipin_cblock="7.247e-11"/>
    <area grid_logic_tile_area="7281.600098"/>
    <chan_width_distr>
      <io width="1.0"/>
      <x distr="uniform" peak="1.0"/>
      <y distr="uniform" peak="1.0"/>
    </chan_width_distr>
    <switch_block type="subset" fs="3"/>
  </device>
  <switchlist>
    <switch type="buffer" name="0" R="0" Cin="7.7e-16" Cout="4.56e-15" Tdel="1.033000e-10"/>
  </switchlist>
  <segmentlist>
    <segment freq="1.0" length="4" type="unidir" Rmetal="61" Cmetal="1.521e-14">
      <mux name="0"/>
      <sb type="pattern">
        1 1 1 1 1
      </sb>
      <cb type="pattern">
        1 1 1 1
      </cb>
    </segment>
  </segmentlist>
  <complexblocklist>
    <pb_type name="io" capacity="8">
      <input name="outpad" num_pins="1"/>
      <output name="inpad" num_pins="1"/>
      <clock name="clock" num_pins="1"/>
    
      <!-- IOs can operate as either inputs or outputs.
    	     Delays below come from Ian Kuon. They are small, so they should be interpreted as
    	     the delays to and from registers in the I/O (and generally I/Os are registered 
    	     today and that is when you timing analyze them.
    	     -->
      <mode name="inpad">
        <pb_type name="inpad" blif_model=".input" num_pb="1">
          <output name="inpad" num_pins="1"/>
        </pb_type>
        <interconnect>
          <direct name="inpad" input="inpad.inpad" output="io.inpad">
            <delay_constant max="4.243e-11" in_port="inpad.inpad" out_port="io.inpad"/>
          </direct>
        </interconnect>
    
      </mode>
      <mode name="outpad">
        <pb_type name="outpad" blif_model=".output" num_pb="1">
          <input name="outpad" num_pins="1"/>
        </pb_type>
        <interconnect>
          <direct name="outpad" input="io.outpad" output="outpad.outpad">
            <delay_constant max="1.394e-11" in_port="io.outpad" out_port="outpad.outpad"/>
          </direct>
        </interconnect>
      </mode>
    
      <!-- Every input pin is driven by 15% of the tracks in a channel, every output pin is driven by 10% of the tracks in a channel -->
      <fc default_in_type="frac" default_in_val="0.15" default_out_type="frac" default_out_val="0.10"/>
    
      <!-- IOs go on the periphery of the FPGA, for consistency, 
              make it physically equivalent on all sides so that only one definition of I/Os is needed.
              If I do not make a physically equivalent definition, then I need to define 4 different I/Os, one for each side of the FPGA
            -->
      <pinlocations pattern="custom">
        <loc side="left">io.outpad io.inpad io.clock</loc>
        <loc side="top">io.outpad io.inpad io.clock</loc>
        <loc side="right">io.outpad io.inpad io.clock</loc>
        <loc side="bottom">io.outpad io.inpad io.clock</loc>
      </pinlocations>
    
      <!-- Place I/Os on the sides of the FPGA -->
      <gridlocations>
        <loc type="perimeter" priority="10"/>
      </gridlocations>
    
      <power method="ignore"/>			
    </pb_type>

    <!-- Define general purpose logic block (CLB) begin -->
      <pb_type name="clb">
        <input name="I" num_pins="50" equivalent="true"/>
        <output name="O" num_pins="10" equivalent="false"/>
        <clock name="clk" num_pins="1"/>

        <!-- Describe basic logic element, Virtex V-like fracturable LUTs to more closely match ifar delay numbers -->
        <pb_type name="ble" num_pb="10">
          <input name="in" num_pins="4"/>
             <output name="out" num_pins="1"/>
             <clock name="clk" num_pins="1"/>
             <pb_type name="soft_logic" num_pb="1">
               <input name="in" num_pins="4"/>
               <output name="out" num_pins="1"/>
                <mode name="n1_lut4">
                  <pb_type name="lut4" blif_model=".names" num_pb="1" class="lut">
                    <input name="in" num_pins="4" port_class="lut_in"/>
                    <output name="out" num_pins="1" port_class="lut_out"/>

                    <!-- LUT timing using delay matrix -->
                    <delay_matrix type="max" in_port="lut4.in" out_port="lut4.out">
                      2.549000e-10
                      2.549000e-10
                      2.549000e-10
                      2.549000e-10
                    </delay_matrix>
                  </pb_type>
                  <interconnect>
                    <direct name="direct1" input="soft_logic.in[3:0]" output="lut4[0:0].in[3:0]"/>
                    <direct name="direct2" input="lut4[0:0].out" output="soft_logic.out[0:0]"/>
                  </interconnect>
                </mode>
             </pb_type>
          <pb_type name="ff" blif_model=".latch" num_pb="1" class="flipflop">
            <input name="D" num_pins="1" port_class="D"/>
            <output name="Q" num_pins="1" port_class="Q"/>
            <clock name="clk" num_pins="1" port_class="clock"/>
            <T_setup value="2.341000e-10" port="ff.D" clock="clk"/>
            <T_clock_to_Q max="1.565000e-10" port="ff.Q" clock="clk"/>
          </pb_type>
          <interconnect>
            <!-- Two ff, make ff available to only corresponding luts -->
            <direct name="direct1" input="ble.in" output="soft_logic.in"/>
            <direct name="direct2" input="soft_logic.out" output="ff.D"/>
            <direct name="direct4" input="ble.clk" output="ff.clk"/>
            <mux name="mux1" input="ff.Q soft_logic.out" output="ble.out">
              <delay_constant max="2.5e-11" in_port="soft_logic.out" out_port="ble.out"/>
              <delay_constant max="4.5e-11" in_port="ff.Q" out_port="ble.out"/>
            </mux>
           </interconnect>
        </pb_type>
        <interconnect>
           <complete name="crossbar" input="clb.I ble[9:0].out" output="ble[9:0].in">
             <delay_constant max="7.716000e-11" in_port="clb.I" out_port="ble[9:0].in"/>
             <delay_constant max="7.353000e-11" in_port="ble[9:0].out" out_port="ble[9:0].in"/>
          </complete>
          <complete name="clks" input="clb.clk" output="ble[9:0].clk">
          </complete>
          <direct name="clbouts" input="ble[9:0].out" output="clb.O">
          </direct>
        </interconnect>
        
        <!-- Every input pin is driven by 15% of the tracks in a channel, every output pin is driven by 10% of the tracks in a channel -->
        <fc default_in_type="frac" default_in_val="0.15" default_out_type="frac" default_out_val="0.10"/>

        <pinlocations pattern="spread"/>
        <gridlocations>
          <loc type="fill" priority="1"/>
        </gridlocations>
      </pb_type>
    <!-- Define general purpose logic block (CLB) ends -->

    <pb_type name="tri_io" height="1">
      <input name="in0" num_pins="40"/>
      <output name="out0" num_pins="40"/>

      <mode name="3D_INTERCONNECT">
        <pb_type name="tri_wire" blif_model=".subckt io_wire" num_pb="40">
          <input name="to_uva" num_pins="1"/>
          <output name="from_uva" num_pins="1"/>
          <delay_constant max="9.0e-11" in_port="tri_wire.to_uva" out_port="tri_wire.from_uva"/>
        </pb_type>

        <interconnect>
           <complete name="crossbar" input="tri_io.in0[39:0] tri_wire[39:0].from_uva" output="tri_wire[39:0].to_uva">
             <delay_constant max="7.716000e-11" in_port="tri_io.in0" out_port="tri_wire[39:0].to_uva"/>
             <delay_constant max="7.353000e-11" in_port="tri_wire[39:0].from_uva" out_port="tri_wire[39:0].to_uva"/>
           </complete>
           <direct name="conn_out" input="tri_wire.from_uva" output="tri_io.out0"></direct>
        </interconnect>
      </mode>

      <fc default_in_type="frac" default_in_val="0.15" default_out_type="frac" default_out_val="0.10"/>

      <pinlocations pattern="spread"/>
      <gridlocations>
        <loc type="col" start="2" repeat="6" priority="2"/>
      </gridlocations>

    </pb_type>

    <!-- Define 64-bit hard-multiplexers (X1) begins -->
    <pb_type name="X1" height="1">

      <input name="in0" num_pins="64"/>
      <input name="in1" num_pins="64"/>
      <input name="sel" num_pins="1"/>
      <output name="out" num_pins="64"/>
      
      <mode name="MUX_ONLY">
        <pb_type name="MUX" blif_model=".subckt mux64" num_pb="1">
          <input name="in0" num_pins="64"/>
          <input name="in1" num_pins="64"/>
          <input name="sel" num_pins="1"/>
          <output name="out" num_pins="64"/>

          <delay_constant max="0.61e-9" in_port="MUX.in0" out_port="MUX.out"/>
          <delay_constant max="0.61e-9" in_port="MUX.in1" out_port="MUX.out"/>
          <delay_constant max="0.61e-9" in_port="MUX.sel" out_port="MUX.out"/>

          <power method="absolute">
            <dynamic_power power_per_instance="0.092e-3"/>
            <static_power power_per_instance="7.61e-9"/>
          </power>
        </pb_type>

        <interconnect>
          <direct name="muxin0" input="X1.in0" output="MUX.in0"></direct>
          <direct name="muxin1" input="X1.in1" output="MUX.in1"></direct>
          <direct name="muxsel" input="X1.sel" output="MUX.sel"></direct>
          <direct name="muxouts" input="MUX.out" output="X1.out"></direct>
        </interconnect>
      </mode>

      <fc default_in_type="frac" default_in_val="0.15" default_out_type="frac" default_out_val="0.10"/>

      <pinlocations pattern="spread"/>
      <gridlocations>
        <loc type="col" start="6" repeat="6" priority="2"/>
      </gridlocations>
    </pb_type>
    <!-- Define 64-bit hard-multiplexers (X1) ends -->

    <!-- Define dram-interface 'DRAM_INT_L' on the left-side of the FPGA begins -->

    <pb_type name="DINTL" height="51">
      <clock name="clk" num_pins="1"/>
      <input name="rst" num_pins="1"/>
      <input name="prefetch_en" num_pins="1"/>
      <input name="writeback_en" num_pins="1"/>
      <input name="parallel_mode" num_pins="1"/>
      <input name="rdmem_en" num_pins="1"/>
      <input name="wrmem_en" num_pins="1"/>
      <input name="DI" num_pins="1024"/>
      <input name="ADDR" num_pins="15"/>
      <input name="PORT_ADDR" num_pins="2"/>
      <input name="BUFFER_ADDR" num_pins="3"/>
      <input name="log_offset_point" num_pins="5"/>
      <output name="DO" num_pins="1024"/>

      <mode name="dram_interface">
        <pb_type name="DRAM_INT" blif_model=".subckt dram_int" num_pb="1">
          <clock name="clk" num_pins="1"/>
          <input name="rst" num_pins="1"/>
          <input name="prefetch_en" num_pins="1"/>
          <input name="writeback_en" num_pins="1"/>
          <input name="parallel_mode" num_pins="1"/>
          <input name="rdmem_en" num_pins="1"/>
          <input name="wrmem_en" num_pins="1"/>
          <input name="DI" num_pins="1024"/>
          <input name="ADDR" num_pins="15"/>
          <input name="PORT_ADDR" num_pins="2"/>
          <input name="BUFFER_ADDR" num_pins="3"/>
          <input name="log_offset_point" num_pins="5"/>
          <output name="DO" num_pins="1024"/>

          <T_setup value="509e-12" port="DRAM_INT.ADDR" clock="clk"/>
          <T_setup value="509e-12" port="DRAM_INT.DI" clock="clk"/>
          <T_setup value="509e-12" port="DRAM_INT.writeback_en" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="DRAM_INT.DO" clock="clk"/>

          <!-- TODO --><!-- The power values of the DRAM interfaces -->

        </pb_type>
        <interconnect>

          <direct name="clk" input="DINTL.clk" output="DRAM_INT.clk">
          </direct>
          <direct name="rst" input="DINTL.rst" output="DRAM_INT.rst">
          </direct>
          <direct name="pe" input="DINTL.prefetch_en" output="DRAM_INT.prefetch_en">
          </direct>
          <direct name="wde" input="DINTL.writeback_en" output="DRAM_INT.writeback_en">
          </direct>
          <direct name="rbe" input="DINTL.parallel_mode" output="DRAM_INT.parallel_mode">
          </direct>
          <direct name="rme" input="DINTL.rdmem_en" output="DRAM_INT.rdmem_en">
          </direct>
          <direct name="wme" input="DINTL.wrmem_en" output="DRAM_INT.wrmem_en">
          </direct>
          <direct name="din" input="DINTL.DI" output="DRAM_INT.DI">
          </direct>
          <direct name="addr" input="DINTL.ADDR" output="DRAM_INT.ADDR">
          </direct>
          <direct name="paddr" input="DINTL.PORT_ADDR" output="DRAM_INT.PORT_ADDR">
          </direct>
          <direct name="baddr" input="DINTL.BUFFER_ADDR" output="DRAM_INT.BUFFER_ADDR">
          </direct>
          <direct name="log" input="DINTL.log_offset_point" output="DRAM_INT.log_offset_point">
          </direct>
          <direct name="dout" input="DRAM_INT.DO" output="DINTL.DO">
          </direct>

        </interconnect>
      </mode>

      <fc default_in_type="frac" default_in_val="0.15" default_out_type="frac" default_out_val="0.10"/>
      <pinlocations pattern="spread"/>

      <gridlocations>
        <loc type="col" start="1" repeat="51" priority="5"/>
      </gridlocations>

    </pb_type>
    <!-- Define dram-interface 'DRAM_INT_L' on the left-side of the FPGA ends -->

    <!-- Define floating-point MMA begin -->
    <!-- This multiplier operates as a 32 by 32 floating-point multiplication -->
    <pb_type name="block_MMA" height="11">
      <input name="in1" num_pins="32"/>
      <input name="in2" num_pins="32"/>
      <input name="in3" num_pins="32"/>
      <input name="in4" num_pins="32"/>

      <output name="out" num_pins="32"/>
      <output name="out2" num_pins="32"/>
      <output name="control" num_pins="24"/>
      <clock name="clk" num_pins="1"/>

      <mode name="MMA">
        <pb_type name="FMMA" blif_model=".subckt fpu_mma" num_pb="1">
          <clock name="clk" num_pins="1"/>
          <input name="opa" num_pins="32"/>
          <input name="opb" num_pins="32"/>
          <input name="opc" num_pins="32"/>
          <input name="opd" num_pins="32"/>
          <output name="out" num_pins="32"/>
          <output name="out2" num_pins="32"/>
	      <output name="control" num_pins="24"/>

          <T_setup value="1.40e-10" port="FMMA.opa" clock="clk"/>
          <T_setup value="1.40e-10" port="FMMA.opb" clock="clk"/>
          <T_setup value="1.40e-10" port="FMMA.opc" clock="clk"/>
          <T_setup value="1.40e-10" port="FMMA.opd" clock="clk"/>
          <T_clock_to_Q max="2.90e-9" port="FMMA.out" clock="clk"/>
          <T_clock_to_Q max="4.28e-9" port="FMMA.control" clock="clk"/>
          <max_internal_delay value="4.99e-9"/>

          <power method="absolute">
            <dynamic_power power_per_instance="9.000e-3"/>
            <static_power power_per_instance="1560e-9"/>
          </power>

        </pb_type>

        <interconnect>
          <direct name="direct1" input="block_MMA.in1" output="FMMA.opa"></direct>
          <direct name="direct2" input="block_MMA.in2" output="FMMA.opb"></direct>
          <direct name="direct3" input="block_MMA.in3" output="FMMA.opc"></direct>
          <direct name="direct4" input="block_MMA.in4" output="FMMA.opd"></direct>
          <direct name="direct5" input="FMMA.out" output="block_MMA.out"></direct>
          <direct name="direct6" input="FMMA.control" output="block_MMA.control"></direct>
          <complete name="complete1" input="block_MMA.clk" output="FMMA.clk"/>
        </interconnect>

      </mode>

      <mode name="MA">
        <pb_type name="FMA" blif_model=".subckt fpu_ma" num_pb="1">
		  <clock name="clk" num_pins="1"/>
          <input name="opa" num_pins="32"/>
          <input name="opb" num_pins="32"/>
          <input name="opc" num_pins="32"/>
          <output name="out" num_pins="32"/>
		  <output name="control" num_pins="16"/>

          <T_setup value="1.4e-10" port="FMA.opa" clock="clk"/>
          <T_setup value="1.4e-10" port="FMA.opb" clock="clk"/>
          <T_setup value="1.4e-10" port="FMA.opc" clock="clk"/>
          <T_clock_to_Q max="2.90e-9" port="FMA.out" clock="clk"/>
          <T_clock_to_Q max="4.28e-9" port="FMA.control" clock="clk"/>
          <max_internal_delay value="5.0e-9"/>

          <power method="absolute">
            <dynamic_power power_per_instance="7.159e-3"/>
            <static_power power_per_instance="1520e-9"/>
          </power>

        </pb_type>

        <interconnect>
          <direct name="direct1" input="block_MMA.in1" output="FMA.opa"></direct>
          <direct name="direct2" input="block_MMA.in2" output="FMA.opb"></direct>
          <direct name="direct2" input="block_MMA.in3" output="FMA.opc"></direct>
          <direct name="direct5" input="FMA.out" output="block_MMA.out"></direct>
          <direct name="direct6" input="FMA.control" output="block_MMA.control[15:0]"></direct>
          <complete name="complete1" input="block_MMA.clk" output="FMA.clk"/>
        </interconnect>

      </mode>

      <mode name="MUL">
        <pb_type name="FM" blif_model=".subckt fpu_mul" num_pb="2">
          <clock name="clk" num_pins="1"/>
          <input name="opa" num_pins="32"/>
          <input name="opb" num_pins="32"/>
          <output name="out" num_pins="32"/>
		  <output name="control" num_pins="8"/>

          <T_setup value="1.40e-10" port="FM.opa" clock="clk"/>
          <T_setup value="1.40e-10" port="FM.opb" clock="clk"/>
          <T_clock_to_Q max="2.90e-9" port="FM.out" clock="clk"/>
          <T_clock_to_Q max="4.28e-9" port="FM.control" clock="clk"/>
          <max_internal_delay value="4.99e-9"/>

          <power method="absolute">
            <dynamic_power power_per_instance="3.972e-3"/>
            <static_power power_per_instance="625e-9"/>
          </power>

        </pb_type>

        <interconnect>
          <direct name="a2a_0" input="block_MMA.in1" output="FM[0:0].opa"></direct>
          <direct name="b2b_0" input="block_MMA.in2" output="FM[0:0].opb"></direct>
          <direct name="a2a_1" input="block_MMA.in3" output="FM[1:1].opa"></direct>
          <direct name="b2b_1" input="block_MMA.in4" output="FM[1:1].opb"></direct>

          <direct name="out2out_0" input="FM[0:0].out" output="block_MMA.out"></direct>
          <direct name="out2out_1" input="FM[1:1].out" output="block_MMA.out2"></direct>
          <direct name="control_0" input="FM[0:0].control" output="block_MMA.control[7:0]"></direct>
          <direct name="control_1" input="FM[1:1].control" output="block_MMA.control[15:8]"></direct>
          <complete name="clk" input="block_MMA.clk" output="FM[0:0].clk"></complete>
          <complete name="clk" input="block_MMA.clk" output="FM[1:1].clk"></complete>
        </interconnect>

      </mode>

      <fc default_in_type="frac" default_in_val="0.15" default_out_type="frac" default_out_val="0.10"/>
      <pinlocations pattern="spread"/>

      <gridlocations>
        <loc type="col" start="4" repeat="6" priority="4"/>
      </gridlocations>

    </pb_type>
    <!-- Define floating-point MMA end -->

    <!-- Define floating-point adder begin -->
    <!-- This adder operates as a 32 by 32 floating-point addition/subtraction -->
    <pb_type name="fpu_add_32" height="2">

      <clock name="clk" num_pins="1"/>
      <input name="opa" num_pins="32"/>
      <input name="opb" num_pins="32"/>
      <output name="out" num_pins="32"/>
      <output name="control" num_pins="8"/>

      <mode name="fpu_add_32x32">

        <pb_type name="FA" blif_model=".subckt fpu_add" num_pb="1">
          <clock name="clk" num_pins="1"/>
          <input name="opa" num_pins="32"/>
          <input name="opb" num_pins="32"/>
          <output name="out" num_pins="32"/>
          <output name="control" num_pins="8"/>

          <T_setup value="1.4e-10" port="FA.opa" clock="clk"/>
          <T_setup value="1.4e-10" port="FA.opb" clock="clk"/>
          <T_clock_to_Q max="0.21e-9" port="FA.out" clock="clk"/>
          <T_clock_to_Q max="0.21e-9" port="FA.control" clock="clk"/>
          <max_internal_delay value="5e-9"/>
        </pb_type>
        <interconnect>
          <direct name="clk" input="fpu_add_32.clk" output="FA.clk">
          </direct>
          <direct name="a2a" input="fpu_add_32.opa" output="FA.opa">
          </direct>
          <direct name="b2b" input="fpu_add_32.opb" output="FA.opb">
          </direct>
          <direct name="out2out" input="FA.out" output="fpu_add_32.out">
          </direct>
          <direct name="control" input="FA.control" output="fpu_add_32.control">
          </direct>
        </interconnect>

      </mode>

      <fc default_in_type="frac" default_in_val="0.15" default_out_type="frac" default_out_val="0.10"/>
      <pinlocations pattern="spread"/>

      <power method="absolute">
        <dynamic_power power_per_instance="1.296e-3"/>
        <static_power power_per_instance="309e-9"/>
      </power>

      <gridlocations>
        <loc type="col" start="5" repeat="6" priority="2"/>
      </gridlocations>

    </pb_type>
    <!-- Define floating-point adder ends -->

    <pb_type name="memory" height="5">
      <input name="addr1" num_pins="15"/>
      <input name="addr2" num_pins="15"/>
      <input name="data" num_pins="64"/>
      <input name="data2" num_pins="64"/>
      <input name="we1" num_pins="1"/>
      <input name="we2" num_pins="1"/>
      <output name="out" num_pins="64"/>
      <output name="out2" num_pins="64"/>
      <clock name="clk" num_pins="1"/>
    
      <!-- Specify single port mode first -->
      <mode name="mem_512x64_sp">
        <pb_type name="mem_512x64_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
          <input name="addr" num_pins="9" port_class="address"/>
          <input name="data" num_pins="64" port_class="data_in"/>
          <input name="we" num_pins="1" port_class="write_en"/>
          <output name="out" num_pins="64" port_class="data_out"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_512x64_sp.addr" clock="clk"/>
          <T_setup value="509e-12" port="mem_512x64_sp.data" clock="clk"/>
          <T_setup value="509e-12" port="mem_512x64_sp.we" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_512x64_sp.out" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="31.3e-12"/>
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[8:0]" output="mem_512x64_sp.addr">
            <delay_constant max="132e-12" in_port="memory.addr1[8:0]" out_port="mem_512x64_sp.addr"/>
          </direct>
          <direct name="data1" input="memory.data[63:0]" output="mem_512x64_sp.data">
            <delay_constant max="132e-12" in_port="memory.data[63:0]" out_port="mem_512x64_sp.data"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_512x64_sp.we">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_512x64_sp.we"/>
          </direct>
          <direct name="dataout1" input="mem_512x64_sp.out" output="memory.out[63:0]">
            <delay_constant max="40e-12" in_port="mem_512x64_sp.out" out_port="memory.out[63:0]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_512x64_sp.clk">
          </direct>
        </interconnect>
      </mode>
    
      <mode name="mem_1024x32_sp">
        <pb_type name="mem_1024x32_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
          <input name="addr" num_pins="10" port_class="address"/>
          <input name="data" num_pins="32" port_class="data_in"/>
          <input name="we" num_pins="1" port_class="write_en"/>
          <output name="out" num_pins="32" port_class="data_out"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_1024x32_sp.addr" clock="clk"/>
          <T_setup value="509e-12" port="mem_1024x32_sp.data" clock="clk"/>
          <T_setup value="509e-12" port="mem_1024x32_sp.we" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_1024x32_sp.out" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="31.3e-12"/>					
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[9:0]" output="mem_1024x32_sp.addr">
            <delay_constant max="132e-12" in_port="memory.addr1[9:0]" out_port="mem_1024x32_sp.addr"/>
          </direct>
          <direct name="data1" input="memory.data[31:0]" output="mem_1024x32_sp.data">
            <delay_constant max="132e-12" in_port="memory.data[31:0]" out_port="mem_1024x32_sp.data"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_1024x32_sp.we">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_1024x32_sp.we"/>
          </direct>
          <direct name="dataout1" input="mem_1024x32_sp.out" output="memory.out[31:0]">
            <delay_constant max="40e-12" in_port="mem_1024x32_sp.out" out_port="memory.out[31:0]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_1024x32_sp.clk">
          </direct>
        </interconnect>
      </mode>    
    
      <mode name="mem_2048x16_sp">
        <pb_type name="mem_2048x16_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
          <input name="addr" num_pins="11" port_class="address"/>
          <input name="data" num_pins="16" port_class="data_in"/>
          <input name="we" num_pins="1" port_class="write_en"/>
          <output name="out" num_pins="16" port_class="data_out"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_2048x16_sp.addr" clock="clk"/>
          <T_setup value="509e-12" port="mem_2048x16_sp.data" clock="clk"/>
          <T_setup value="509e-12" port="mem_2048x16_sp.we" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_2048x16_sp.out" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="31.3e-12"/>					
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[10:0]" output="mem_2048x16_sp.addr">
            <delay_constant max="132e-12" in_port="memory.addr1[10:0]" out_port="mem_2048x16_sp.addr"/>
          </direct>
          <direct name="data1" input="memory.data[15:0]" output="mem_2048x16_sp.data">
            <delay_constant max="132e-12" in_port="memory.data[15:0]" out_port="mem_2048x16_sp.data"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_2048x16_sp.we">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_2048x16_sp.we"/>
          </direct>
          <direct name="dataout1" input="mem_2048x16_sp.out" output="memory.out[15:0]">
            <delay_constant max="40e-12" in_port="mem_2048x16_sp.out" out_port="memory.out[15:0]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_2048x16_sp.clk">
          </direct>
        </interconnect>
      </mode>
    
      <mode name="mem_4096x8_sp">
        <pb_type name="mem_4096x8_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
          <input name="addr" num_pins="12" port_class="address"/>
          <input name="data" num_pins="8" port_class="data_in"/>
          <input name="we" num_pins="1" port_class="write_en"/>
          <output name="out" num_pins="8" port_class="data_out"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_4096x8_sp.addr" clock="clk"/>
          <T_setup value="509e-12" port="mem_4096x8_sp.data" clock="clk"/>
          <T_setup value="509e-12" port="mem_4096x8_sp.we" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_4096x8_sp.out" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="31.3e-12"/>					
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[11:0]" output="mem_4096x8_sp.addr">
            <delay_constant max="132e-12" in_port="memory.addr1[11:0]" out_port="mem_4096x8_sp.addr"/>
          </direct>
          <direct name="data1" input="memory.data[7:0]" output="mem_4096x8_sp.data">
            <delay_constant max="132e-12" in_port="memory.data[7:0]" out_port="mem_4096x8_sp.data"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_4096x8_sp.we">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_4096x8_sp.we"/>
          </direct>
          <direct name="dataout1" input="mem_4096x8_sp.out" output="memory.out[7:0]">
            <delay_constant max="40e-12" in_port="mem_4096x8_sp.out" out_port="memory.out[7:0]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_4096x8_sp.clk">
          </direct>
        </interconnect>
      </mode>
    
      <mode name="mem_8192x4_sp">
        <pb_type name="mem_8192x4_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
          <input name="addr" num_pins="13" port_class="address"/>
          <input name="data" num_pins="4" port_class="data_in"/>
          <input name="we" num_pins="1" port_class="write_en"/>
          <output name="out" num_pins="4" port_class="data_out"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_8192x4_sp.addr" clock="clk"/>
          <T_setup value="509e-12" port="mem_8192x4_sp.data" clock="clk"/>
          <T_setup value="509e-12" port="mem_8192x4_sp.we" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_8192x4_sp.out" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="31.3e-12"/>					
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[12:0]" output="mem_8192x4_sp.addr">
            <delay_constant max="132e-12" in_port="memory.addr1[12:0]" out_port="mem_8192x4_sp.addr"/>
          </direct>
          <direct name="data1" input="memory.data[3:0]" output="mem_8192x4_sp.data">
            <delay_constant max="132e-12" in_port="memory.data[3:0]" out_port="mem_8192x4_sp.data"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_8192x4_sp.we">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_8192x4_sp.we"/>
          </direct>
          <direct name="dataout1" input="mem_8192x4_sp.out" output="memory.out[3:0]">
            <delay_constant max="40e-12" in_port="mem_8192x4_sp.out" out_port="memory.out[3:0]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_8192x4_sp.clk">
          </direct>
        </interconnect>
      </mode>
    
      <mode name="mem_16384x2_sp">
        <pb_type name="mem_16384x2_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
          <input name="addr" num_pins="14" port_class="address"/>
          <input name="data" num_pins="2" port_class="data_in"/>
          <input name="we" num_pins="1" port_class="write_en"/>
          <output name="out" num_pins="2" port_class="data_out"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_16384x2_sp.addr" clock="clk"/>
          <T_setup value="509e-12" port="mem_16384x2_sp.data" clock="clk"/>
          <T_setup value="509e-12" port="mem_16384x2_sp.we" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_16384x2_sp.out" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="31.3e-12"/>					
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[13:0]" output="mem_16384x2_sp.addr">
            <delay_constant max="132e-12" in_port="memory.addr1[13:0]" out_port="mem_16384x2_sp.addr"/>
          </direct>
          <direct name="data1" input="memory.data[1:0]" output="mem_16384x2_sp.data">
            <delay_constant max="132e-12" in_port="memory.data[1:0]" out_port="mem_16384x2_sp.data"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_16384x2_sp.we">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_16384x2_sp.we"/>
          </direct>
          <direct name="dataout1" input="mem_16384x2_sp.out" output="memory.out[1:0]">
            <delay_constant max="40e-12" in_port="mem_16384x2_sp.out" out_port="memory.out[1:0]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_16384x2_sp.clk">
          </direct>
        </interconnect>
      </mode>  
    
      <mode name="mem_32768x1_sp">
        <pb_type name="mem_32768x1_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
          <input name="addr" num_pins="15" port_class="address"/>
          <input name="data" num_pins="1" port_class="data_in"/>
          <input name="we" num_pins="1" port_class="write_en"/>
          <output name="out" num_pins="1" port_class="data_out"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_32768x1_sp.addr" clock="clk"/>
          <T_setup value="509e-12" port="mem_32768x1_sp.data" clock="clk"/>
          <T_setup value="509e-12" port="mem_32768x1_sp.we" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_32768x1_sp.out" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="31.3e-12"/>					
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[14:0]" output="mem_32768x1_sp.addr">
            <delay_constant max="132e-12" in_port="memory.addr1[14:0]" out_port="mem_32768x1_sp.addr"/>
          </direct>
          <direct name="data1" input="memory.data[0:0]" output="mem_32768x1_sp.data">
            <delay_constant max="132e-12" in_port="memory.data[0:0]" out_port="mem_32768x1_sp.data"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_32768x1_sp.we">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_32768x1_sp.we"/>
          </direct>
          <direct name="dataout1" input="mem_32768x1_sp.out" output="memory.out[0:0]">
            <delay_constant max="40e-12" in_port="mem_32768x1_sp.out" out_port="memory.out[0:0]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_32768x1_sp.clk">
          </direct>
        </interconnect>
      </mode> 
    
      <!-- Specify true dual port mode next -->
      <mode name="mem_512x64_dp">
        <pb_type name="mem_512x64_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
          <input name="addr1" num_pins="9" port_class="address1"/>
          <input name="addr2" num_pins="9" port_class="address2"/>
          <input name="data1" num_pins="64" port_class="data_in1"/>
          <input name="data2" num_pins="64" port_class="data_in2"/>
          <input name="we1" num_pins="1" port_class="write_en1"/>
          <input name="we2" num_pins="1" port_class="write_en2"/>
          <output name="out1" num_pins="64" port_class="data_out1"/>
          <output name="out2" num_pins="64" port_class="data_out2"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_512x64_dp.addr1" clock="clk"/>
          <T_setup value="509e-12" port="mem_512x64_dp.data1" clock="clk"/>
          <T_setup value="509e-12" port="mem_512x64_dp.we1" clock="clk"/>
          <T_setup value="509e-12" port="mem_512x64_dp.addr2" clock="clk"/>
          <T_setup value="509e-12" port="mem_512x64_dp.data2" clock="clk"/>
          <T_setup value="509e-12" port="mem_512x64_dp.we2" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_512x64_dp.out1" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_512x64_dp.out2" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="62.2e-12"/>
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[8:0]" output="mem_512x64_dp.addr1">
            <delay_constant max="132e-12" in_port="memory.addr1[8:0]" out_port="mem_512x64_dp.addr1"/>
          </direct>
          <direct name="address2" input="memory.addr2[8:0]" output="mem_512x64_dp.addr2">
            <delay_constant max="132e-12" in_port="memory.addr2[8:0]" out_port="mem_512x64_dp.addr2"/>
          </direct>
          <direct name="data1" input="memory.data[63:0]" output="mem_512x64_dp.data1">
            <delay_constant max="132e-12" in_port="memory.data[63:0]" out_port="mem_512x64_dp.data1"/>
          </direct>
          <direct name="data2" input="memory.data2[63:0]" output="mem_512x64_dp.data2">
            <delay_constant max="132e-12" in_port="memory.data2[63:0]" out_port="mem_512x64_dp.data2"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_512x64_dp.we1">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_512x64_dp.we1"/>
          </direct>
          <direct name="writeen2" input="memory.we2" output="mem_512x64_dp.we2">
            <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_512x64_dp.we2"/>
          </direct>
          <direct name="dataout1" input="mem_512x64_dp.out1" output="memory.out[63:0]">
            <delay_constant max="40e-12" in_port="mem_512x64_dp.out1" out_port="memory.out[63:0]"/>
          </direct>
          <direct name="dataout2" input="mem_512x64_dp.out2" output="memory.out2[63:0]">
            <delay_constant max="40e-12" in_port="mem_512x64_dp.out2" out_port="memory.out2[63:0]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_512x64_dp.clk">
          </direct>
        </interconnect>
      </mode>

      <mode name="mem_1024x32_dp">
        <pb_type name="mem_1024x32_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
          <input name="addr1" num_pins="10" port_class="address1"/>
          <input name="addr2" num_pins="10" port_class="address2"/>
          <input name="data1" num_pins="32" port_class="data_in1"/>
          <input name="data2" num_pins="32" port_class="data_in2"/>
          <input name="we1" num_pins="1" port_class="write_en1"/>
          <input name="we2" num_pins="1" port_class="write_en2"/>
          <output name="out1" num_pins="32" port_class="data_out1"/>
          <output name="out2" num_pins="32" port_class="data_out2"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_1024x32_dp.addr1" clock="clk"/>
          <T_setup value="509e-12" port="mem_1024x32_dp.data1" clock="clk"/>
          <T_setup value="509e-12" port="mem_1024x32_dp.we1" clock="clk"/>
          <T_setup value="509e-12" port="mem_1024x32_dp.addr2" clock="clk"/>
          <T_setup value="509e-12" port="mem_1024x32_dp.data2" clock="clk"/>
          <T_setup value="509e-12" port="mem_1024x32_dp.we2" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_1024x32_dp.out1" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_1024x32_dp.out2" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="62.2e-12"/>					
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[9:0]" output="mem_1024x32_dp.addr1">
            <delay_constant max="132e-12" in_port="memory.addr1[9:0]" out_port="mem_1024x32_dp.addr1"/>
          </direct>
          <direct name="address2" input="memory.addr2[9:0]" output="mem_1024x32_dp.addr2">
            <delay_constant max="132e-12" in_port="memory.addr2[9:0]" out_port="mem_1024x32_dp.addr2"/>
          </direct>
          <direct name="data1" input="memory.data[31:0]" output="mem_1024x32_dp.data1">
            <delay_constant max="132e-12" in_port="memory.data[31:0]" out_port="mem_1024x32_dp.data1"/>
          </direct>
          <direct name="data2" input="memory.data[63:32]" output="mem_1024x32_dp.data2">
            <delay_constant max="132e-12" in_port="memory.data[63:32]" out_port="mem_1024x32_dp.data2"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_1024x32_dp.we1">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_1024x32_dp.we1"/>
          </direct>
          <direct name="writeen2" input="memory.we2" output="mem_1024x32_dp.we2">
            <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_1024x32_dp.we2"/>
          </direct>
          <direct name="dataout1" input="mem_1024x32_dp.out1" output="memory.out[31:0]">
            <delay_constant max="40e-12" in_port="mem_1024x32_dp.out1" out_port="memory.out[31:0]"/>
          </direct>
          <direct name="dataout2" input="mem_1024x32_dp.out2" output="memory.out[63:32]">
            <delay_constant max="40e-12" in_port="mem_1024x32_dp.out2" out_port="memory.out[63:32]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_1024x32_dp.clk">
          </direct>
        </interconnect>
      </mode>
    
      <mode name="mem_2048x16_dp">
        <pb_type name="mem_2048x16_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
          <input name="addr1" num_pins="11" port_class="address1"/>
          <input name="addr2" num_pins="11" port_class="address2"/>
          <input name="data1" num_pins="16" port_class="data_in1"/>
          <input name="data2" num_pins="16" port_class="data_in2"/>
          <input name="we1" num_pins="1" port_class="write_en1"/>
          <input name="we2" num_pins="1" port_class="write_en2"/>
          <output name="out1" num_pins="16" port_class="data_out1"/>
          <output name="out2" num_pins="16" port_class="data_out2"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_2048x16_dp.addr1" clock="clk"/>
          <T_setup value="509e-12" port="mem_2048x16_dp.data1" clock="clk"/>
          <T_setup value="509e-12" port="mem_2048x16_dp.we1" clock="clk"/>
          <T_setup value="509e-12" port="mem_2048x16_dp.addr2" clock="clk"/>
          <T_setup value="509e-12" port="mem_2048x16_dp.data2" clock="clk"/>
          <T_setup value="509e-12" port="mem_2048x16_dp.we2" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_2048x16_dp.out1" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_2048x16_dp.out2" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="62.2e-12"/>					
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[10:0]" output="mem_2048x16_dp.addr1">
            <delay_constant max="132e-12" in_port="memory.addr1[10:0]" out_port="mem_2048x16_dp.addr1"/>
          </direct>
          <direct name="address2" input="memory.addr2[10:0]" output="mem_2048x16_dp.addr2">
            <delay_constant max="132e-12" in_port="memory.addr2[10:0]" out_port="mem_2048x16_dp.addr2"/>
          </direct>
          <direct name="data1" input="memory.data[15:0]" output="mem_2048x16_dp.data1">
            <delay_constant max="132e-12" in_port="memory.data[15:0]" out_port="mem_2048x16_dp.data1"/>
          </direct>
          <direct name="data2" input="memory.data[31:16]" output="mem_2048x16_dp.data2">
            <delay_constant max="132e-12" in_port="memory.data[31:16]" out_port="mem_2048x16_dp.data2"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_2048x16_dp.we1">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_2048x16_dp.we1"/>
          </direct>
          <direct name="writeen2" input="memory.we2" output="mem_2048x16_dp.we2">
            <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_2048x16_dp.we2"/>
          </direct>
          <direct name="dataout1" input="mem_2048x16_dp.out1" output="memory.out[15:0]">
            <delay_constant max="40e-12" in_port="mem_2048x16_dp.out1" out_port="memory.out[15:0]"/>
          </direct>
          <direct name="dataout2" input="mem_2048x16_dp.out2" output="memory.out[31:16]">
            <delay_constant max="40e-12" in_port="mem_2048x16_dp.out2" out_port="memory.out[31:16]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_2048x16_dp.clk">
          </direct>
        </interconnect>
      </mode>
    
      <mode name="mem_2048x8_dp">
        <pb_type name="mem_2048x8_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
          <input name="addr1" num_pins="12" port_class="address1"/>
          <input name="addr2" num_pins="12" port_class="address2"/>
          <input name="data1" num_pins="8" port_class="data_in1"/>
          <input name="data2" num_pins="8" port_class="data_in2"/>
          <input name="we1" num_pins="1" port_class="write_en1"/>
          <input name="we2" num_pins="1" port_class="write_en2"/>
          <output name="out1" num_pins="8" port_class="data_out1"/>
          <output name="out2" num_pins="8" port_class="data_out2"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_2048x8_dp.addr1" clock="clk"/>
          <T_setup value="509e-12" port="mem_2048x8_dp.data1" clock="clk"/>
          <T_setup value="509e-12" port="mem_2048x8_dp.we1" clock="clk"/>
          <T_setup value="509e-12" port="mem_2048x8_dp.addr2" clock="clk"/>
          <T_setup value="509e-12" port="mem_2048x8_dp.data2" clock="clk"/>
          <T_setup value="509e-12" port="mem_2048x8_dp.we2" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_2048x8_dp.out1" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_2048x8_dp.out2" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="62.2e-12"/>					
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[11:0]" output="mem_2048x8_dp.addr1">
            <delay_constant max="132e-12" in_port="memory.addr1[11:0]" out_port="mem_2048x8_dp.addr1"/>
          </direct>
          <direct name="address2" input="memory.addr2[11:0]" output="mem_2048x8_dp.addr2">
            <delay_constant max="132e-12" in_port="memory.addr2[11:0]" out_port="mem_2048x8_dp.addr2"/>
          </direct>
          <direct name="data1" input="memory.data[7:0]" output="mem_2048x8_dp.data1">
            <delay_constant max="132e-12" in_port="memory.data[7:0]" out_port="mem_2048x8_dp.data1"/>
          </direct>
          <direct name="data2" input="memory.data[15:8]" output="mem_2048x8_dp.data2">
            <delay_constant max="132e-12" in_port="memory.data[15:8]" out_port="mem_2048x8_dp.data2"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_2048x8_dp.we1">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_2048x8_dp.we1"/>
          </direct>
          <direct name="writeen2" input="memory.we2" output="mem_2048x8_dp.we2">
            <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_2048x8_dp.we2"/>
          </direct>
          <direct name="dataout1" input="mem_2048x8_dp.out1" output="memory.out[7:0]">
            <delay_constant max="40e-12" in_port="mem_2048x8_dp.out1" out_port="memory.out[7:0]"/>
          </direct>
          <direct name="dataout2" input="mem_2048x8_dp.out2" output="memory.out[15:8]">
            <delay_constant max="40e-12" in_port="mem_2048x8_dp.out2" out_port="memory.out[15:8]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_2048x8_dp.clk">
          </direct>
        </interconnect>
      </mode>
      <mode name="mem_8192x4_dp">
        <pb_type name="mem_8192x4_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
          <input name="addr1" num_pins="13" port_class="address1"/>
          <input name="addr2" num_pins="13" port_class="address2"/>
          <input name="data1" num_pins="4" port_class="data_in1"/>
          <input name="data2" num_pins="4" port_class="data_in2"/>
          <input name="we1" num_pins="1" port_class="write_en1"/>
          <input name="we2" num_pins="1" port_class="write_en2"/>
          <output name="out1" num_pins="4" port_class="data_out1"/>
          <output name="out2" num_pins="4" port_class="data_out2"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_8192x4_dp.addr1" clock="clk"/>
          <T_setup value="509e-12" port="mem_8192x4_dp.data1" clock="clk"/>
          <T_setup value="509e-12" port="mem_8192x4_dp.we1" clock="clk"/>
          <T_setup value="509e-12" port="mem_8192x4_dp.addr2" clock="clk"/>
          <T_setup value="509e-12" port="mem_8192x4_dp.data2" clock="clk"/>
          <T_setup value="509e-12" port="mem_8192x4_dp.we2" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_8192x4_dp.out1" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_8192x4_dp.out2" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="62.2e-12"/>					
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[12:0]" output="mem_8192x4_dp.addr1">
            <delay_constant max="132e-12" in_port="memory.addr1[12:0]" out_port="mem_8192x4_dp.addr1"/>
          </direct>
          <direct name="address2" input="memory.addr2[12:0]" output="mem_8192x4_dp.addr2">
            <delay_constant max="132e-12" in_port="memory.addr2[12:0]" out_port="mem_8192x4_dp.addr2"/>
          </direct>
          <direct name="data1" input="memory.data[3:0]" output="mem_8192x4_dp.data1">
            <delay_constant max="132e-12" in_port="memory.data[3:0]" out_port="mem_8192x4_dp.data1"/>
          </direct>
          <direct name="data2" input="memory.data[7:4]" output="mem_8192x4_dp.data2">
            <delay_constant max="132e-12" in_port="memory.data[7:4]" out_port="mem_8192x4_dp.data2"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_8192x4_dp.we1">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_8192x4_dp.we1"/>
          </direct>
          <direct name="writeen2" input="memory.we2" output="mem_8192x4_dp.we2">
            <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_8192x4_dp.we2"/>
          </direct>
          <direct name="dataout1" input="mem_8192x4_dp.out1" output="memory.out[3:0]">
            <delay_constant max="40e-12" in_port="mem_8192x4_dp.out1" out_port="memory.out[3:0]"/>
          </direct>
          <direct name="dataout2" input="mem_8192x4_dp.out2" output="memory.out[7:4]">
            <delay_constant max="40e-12" in_port="mem_8192x4_dp.out2" out_port="memory.out[7:4]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_8192x4_dp.clk">
          </direct>
        </interconnect>
      </mode>
      <mode name="mem_16384x2_dp">
        <pb_type name="mem_16384x2_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
          <input name="addr1" num_pins="14" port_class="address1"/>
          <input name="addr2" num_pins="14" port_class="address2"/>
          <input name="data1" num_pins="2" port_class="data_in1"/>
          <input name="data2" num_pins="2" port_class="data_in2"/>
          <input name="we1" num_pins="1" port_class="write_en1"/>
          <input name="we2" num_pins="1" port_class="write_en2"/>
          <output name="out1" num_pins="2" port_class="data_out1"/>
          <output name="out2" num_pins="2" port_class="data_out2"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_16384x2_dp.addr1" clock="clk"/>
          <T_setup value="509e-12" port="mem_16384x2_dp.data1" clock="clk"/>
          <T_setup value="509e-12" port="mem_16384x2_dp.we1" clock="clk"/>
          <T_setup value="509e-12" port="mem_16384x2_dp.addr2" clock="clk"/>
          <T_setup value="509e-12" port="mem_16384x2_dp.data2" clock="clk"/>
          <T_setup value="509e-12" port="mem_16384x2_dp.we2" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_16384x2_dp.out1" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_16384x2_dp.out2" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="62.2e-12"/>					
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[13:0]" output="mem_16384x2_dp.addr1">
            <delay_constant max="132e-12" in_port="memory.addr1[13:0]" out_port="mem_16384x2_dp.addr1"/>
          </direct>
          <direct name="address2" input="memory.addr2[13:0]" output="mem_16384x2_dp.addr2">
            <delay_constant max="132e-12" in_port="memory.addr2[13:0]" out_port="mem_16384x2_dp.addr2"/>
          </direct>
          <direct name="data1" input="memory.data[1:0]" output="mem_16384x2_dp.data1">
            <delay_constant max="132e-12" in_port="memory.data[1:0]" out_port="mem_16384x2_dp.data1"/>
          </direct>
          <direct name="data2" input="memory.data[3:2]" output="mem_16384x2_dp.data2">
            <delay_constant max="132e-12" in_port="memory.data[3:2]" out_port="mem_16384x2_dp.data2"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_16384x2_dp.we1">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_16384x2_dp.we1"/>
          </direct>
          <direct name="writeen2" input="memory.we2" output="mem_16384x2_dp.we2">
            <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_16384x2_dp.we2"/>
          </direct>
          <direct name="dataout1" input="mem_16384x2_dp.out1" output="memory.out[1:0]">
            <delay_constant max="40e-12" in_port="mem_16384x2_dp.out1" out_port="memory.out[1:0]"/>
          </direct>
          <direct name="dataout2" input="mem_16384x2_dp.out2" output="memory.out[3:2]">
            <delay_constant max="40e-12" in_port="mem_16384x2_dp.out2" out_port="memory.out[3:2]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_16384x2_dp.clk">
          </direct>
        </interconnect>
      </mode>
    
      <mode name="mem_32768x1_dp">
        <pb_type name="mem_32768x1_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
          <input name="addr1" num_pins="15" port_class="address1"/>
          <input name="addr2" num_pins="15" port_class="address2"/>
          <input name="data1" num_pins="1" port_class="data_in1"/>
          <input name="data2" num_pins="1" port_class="data_in2"/>
          <input name="we1" num_pins="1" port_class="write_en1"/>
          <input name="we2" num_pins="1" port_class="write_en2"/>
          <output name="out1" num_pins="1" port_class="data_out1"/>
          <output name="out2" num_pins="1" port_class="data_out2"/>
          <clock name="clk" num_pins="1" port_class="clock"/>
          <T_setup value="509e-12" port="mem_32768x1_dp.addr1" clock="clk"/>
          <T_setup value="509e-12" port="mem_32768x1_dp.data1" clock="clk"/>
          <T_setup value="509e-12" port="mem_32768x1_dp.we1" clock="clk"/>
          <T_setup value="509e-12" port="mem_32768x1_dp.addr2" clock="clk"/>
          <T_setup value="509e-12" port="mem_32768x1_dp.data2" clock="clk"/>
          <T_setup value="509e-12" port="mem_32768x1_dp.we2" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_32768x1_dp.out1" clock="clk"/>
          <T_clock_to_Q max="1.234e-9" port="mem_32768x1_dp.out2" clock="clk"/>
          <power method="pin-toggle">
            <port name="clk" energy_per_toggle="62.2e-12"/>					
            <static_power power_per_instance="0.0"/>
          </power>
        </pb_type>
        <interconnect>
          <direct name="address1" input="memory.addr1[14:0]" output="mem_32768x1_dp.addr1">
            <delay_constant max="132e-12" in_port="memory.addr1[14:0]" out_port="mem_32768x1_dp.addr1"/>
          </direct>
          <direct name="address2" input="memory.addr2[14:0]" output="mem_32768x1_dp.addr2">
            <delay_constant max="132e-12" in_port="memory.addr2[14:0]" out_port="mem_32768x1_dp.addr2"/>
          </direct>
          <direct name="data1" input="memory.data[0:0]" output="mem_32768x1_dp.data1">
            <delay_constant max="132e-12" in_port="memory.data[0:0]" out_port="mem_32768x1_dp.data1"/>
          </direct>
          <direct name="data2" input="memory.data[1:1]" output="mem_32768x1_dp.data2">
            <delay_constant max="132e-12" in_port="memory.data[1:1]" out_port="mem_32768x1_dp.data2"/>
          </direct>
          <direct name="writeen1" input="memory.we1" output="mem_32768x1_dp.we1">
            <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_32768x1_dp.we1"/>
          </direct>
          <direct name="writeen2" input="memory.we2" output="mem_32768x1_dp.we2">
            <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_32768x1_dp.we2"/>
          </direct>
          <direct name="dataout1" input="mem_32768x1_dp.out1" output="memory.out[0:0]">
            <delay_constant max="40e-12" in_port="mem_32768x1_dp.out1" out_port="memory.out[0:0]"/>
          </direct>
          <direct name="dataout2" input="mem_32768x1_dp.out2" output="memory.out[1:1]">
            <delay_constant max="40e-12" in_port="mem_32768x1_dp.out2" out_port="memory.out[1:1]"/>
          </direct>
          <direct name="clk" input="memory.clk" output="mem_32768x1_dp.clk">
          </direct>
        </interconnect>
      </mode>
    
      <!-- Every input pin is driven by 15% of the tracks in a channel, every output pin is driven by 10% of the tracks in a channel -->
      <fc default_in_type="frac" default_in_val="0.25" default_out_type="frac" default_out_val="0.50"/>
      <pinlocations pattern="spread"/>
    
      <!-- Place this memory block every 8 columns from (and including) the second column -->
      <gridlocations>
        <loc type="col" start="3" repeat="6" priority="3"/>
      </gridlocations>
    
      <power method="sum-of-children"/>
    </pb_type>
  </complexblocklist>
  <power>
    <local_interconnect C_wire="8.30e-11"/>
  </power>
  <clocks>
    <clock buffer_size="auto" C_wire="2.85e-10"/>
  </clocks>
</architecture>
